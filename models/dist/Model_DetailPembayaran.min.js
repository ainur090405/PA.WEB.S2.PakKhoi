"use strict";function _classCallCheck(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(a,r.key,r)}}function _createClass(a,e,t){return e&&_defineProperties(a.prototype,e),t&&_defineProperties(a,t),a}var Model_Pembayaran=require("./Model_Pembayaran"),Model_DetailPembayaran=function(){function a(){_classCallCheck(this,a)}return _createClass(a,null,[{key:"getByReservasi",value:function(e){var t,r;return regeneratorRuntime.async(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,regeneratorRuntime.awrap(Model_Pembayaran.getByReservasi(e));case 2:if((t=a.sent)&&0!==t.length){a.next=5;break}return a.abrupt("return",[]);case 5:return r=t[0],a.abrupt("return",[{id_detail:r.id_pembayaran,id_reservasi:r.id_reservasi,metode_pembayaran:r.metode_pembayaran,status_pembayaran:r.status_pembayaran,bukti_pembayaran:r.bukti_pembayaran,status_bukti:r.status_bukti,catatan_admin:r.catatan_admin,konfirmasi_admin:r.konfirmasi_admin,created_at:r.created_at,updated_at:r.updated_at}]);case 7:case"end":return a.stop()}})}},{key:"create",value:function(e){var t;return regeneratorRuntime.async(function(a){for(;;)switch(a.prev=a.next){case 0:return t={id_reservasi:e.id_reservasi,metode_pembayaran:e.metode_pembayaran||"transaksi",status_pembayaran:e.status_pembayaran||"unpaid",bukti_pembayaran:e.bukti_pembayaran||null,status_bukti:e.status_bukti||"pending",catatan_admin:e.catatan_admin||null,konfirmasi_admin:e.konfirmasi_admin||!1,created_at:new Date,updated_at:new Date},a.abrupt("return",Model_Pembayaran.Store(t));case 2:case"end":return a.stop()}})}},{key:"updateByReservasi",value:function(e,t){var r,n,i;return regeneratorRuntime.async(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,regeneratorRuntime.awrap(Model_Pembayaran.getByReservasi(e));case 2:if(r=a.sent,n={},void 0!==t.metode_pembayaran&&(n.metode_pembayaran=t.metode_pembayaran),void 0!==t.status_pembayaran&&(n.status_pembayaran=t.status_pembayaran),void 0!==t.bukti_pembayaran&&(n.bukti_pembayaran=t.bukti_pembayaran),void 0!==t.status_bukti&&(n.status_bukti=t.status_bukti),void 0!==t.catatan_admin&&(n.catatan_admin=t.catatan_admin),void 0!==t.konfirmasi_admin&&(n.konfirmasi_admin=t.konfirmasi_admin),n.updated_at=new Date,r&&0!==r.length){a.next=16;break}return i=Object.assign({id_reservasi:e,created_at:new Date},n),a.abrupt("return",Model_Pembayaran.Store(i));case 16:return a.abrupt("return",Model_Pembayaran.Update(r[0].id_pembayaran,n));case 17:case"end":return a.stop()}})}},{key:"upsertBukti",value:function(e,t){return regeneratorRuntime.async(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",Model_Pembayaran.uploadBuktiByReservasi(e,t));case 1:case"end":return a.stop()}})}}]),a}();module.exports=Model_DetailPembayaran;
//# sourceMappingURL=Model_DetailPembayaran.min.js.map
