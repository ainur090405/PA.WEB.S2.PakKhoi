"use strict";function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,n){for(var r=0;r<n.length;r++){var t=n[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function _createClass(e,n,r){return n&&_defineProperties(e.prototype,n),r&&_defineProperties(e,r),e}var connection=require("../config/database"),Model_LogReservasi=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"getByReservasi",value:function(n){return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(r,t){connection.query("SELECT *\n         FROM log_reservasi\n         WHERE id_reservasi = ?\n         ORDER BY waktu_perubahan DESC",[n],function(e,n){e?t(e):r(n)})}));case 1:case"end":return e.stop()}})}},{key:"Store",value:function(n){return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(r,t){connection.query("INSERT INTO log_reservasi SET ?",n,function(e,n){e?t(e):r(n)})}));case 1:case"end":return e.stop()}})}},{key:"catatStatus",value:function(n,r,t){var a,s,u=arguments;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return a=3<u.length&&void 0!==u[3]?u[3]:null,s={id_reservasi:n,status_awal:r,status_baru:t,waktu_perubahan:new Date,keterangan:a},e.abrupt("return",this.Store(s));case 3:case"end":return e.stop()}},null,this)}}]),e}();module.exports=Model_LogReservasi;
//# sourceMappingURL=Model_LogReservasi.min.js.map
