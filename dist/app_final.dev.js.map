{"version":3,"sources":["app_final.js"],"names":["createError","require","express","path","cookieParser","logger","session","flash","indexRouter","usersRouter","authRouter","adminRouter","pemainRouter","jadwalRouter","reservasiRouter","arenaRouter","venuesRouter","bookingRouter","fotoRouter","ulasanRouter","pembayaranRouter","app","set","join","__dirname","use","json","urlencoded","extended","secret","resave","saveUninitialized","cookie","secure","maxAge","req","res","next","locals","success_msg","error_msg","user","err","message","error","get","status","render","title","module","exports"],"mappings":"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","sourcesContent":["var createError = require('http-errors');\r\nvar express = require('express');\r\nvar path = require('path');\r\nvar cookieParser = require('cookie-parser');\r\nvar logger = require('morgan');\r\nvar session = require('express-session');\r\nvar flash = require('connect-flash');\r\n\r\n// Impor Rute\r\nvar indexRouter = require('./routes/index');\r\nvar usersRouter = require('./routes/users'); // Rute CRUD Master User\r\nvar authRouter = require('./routes/auth'); // Rute Login/Register\r\nvar adminRouter = require('./routes/admin'); // Rute Dashboard Admin\r\nvar pemainRouter = require('./routes/pemain'); // Rute Dashboard Pemain\r\nvar jadwalRouter = require('./routes/jadwal');\r\nconst reservasiRouter = require('./routes/reservasi');\r\nvar arenaRouter = require('./routes/arena');\r\nvar venuesRouter = require('./routes/venues');\r\nvar bookingRouter = require('./routes/booking');\r\nvar fotoRouter = require('./routes/foto');\r\nvar ulasanRouter = require('./routes/ulasan');\r\nvar pembayaranRouter = require('./routes/pembayaran');\r\nvar app = express();\r\n\r\n// view engine setup\r\napp.set('views', path.join(__dirname, 'views'));\r\napp.set('view engine', 'ejs');\r\n\r\napp.use(logger('dev'));\r\napp.use(express.json());\r\napp.use(express.urlencoded({ extended: false }));\r\napp.use(cookieParser());\r\napp.use(express.static(path.join(__dirname, 'public')));\r\n\r\n// Konfigurasi Session (Tanpa .env)\r\napp.use(session({\r\n  secret: 'kunci-rahasia-untuk-arenago-project', // Kunci rahasia\r\n  resave: false,\r\n  saveUninitialized: true,\r\n  cookie: {\r\n    secure: false, // Set 'true' jika pakai HTTPS\r\n    maxAge: 1000 * 60 * 60 * 24 // Cookie berlaku 1 hari\r\n  }\r\n}));\r\n\r\n// Konfigurasi Flash Message\r\napp.use(flash());\r\n\r\n// [Middleware Global PENTING]\r\n// Mengirim pesan flash & info user ke SEMUA file .ejs\r\napp.use((req, res, next) => {\r\n  res.locals.success_msg = req.flash('success_msg');\r\n  res.locals.error_msg = req.flash('error_msg');\r\n  res.locals.user = req.session.user || null; // Info user yang login\r\n  next();\r\n});\r\n\r\n// Pendaftaran Rute\r\napp.use('/', indexRouter);\r\napp.use('/auth', authRouter);\r\napp.use('/admin', adminRouter);\r\napp.use('/pemain', pemainRouter);\r\napp.use('/users', usersRouter); // Ini untuk CRUD Master User oleh Admin\r\napp.use('/arena', arenaRouter);\r\napp.use('/admin/reservasi', reservasiRouter);\r\napp.use('/jadwal', jadwalRouter);\r\napp.use('/venues', venuesRouter);\r\napp.use('/booking', bookingRouter);\r\napp.use('/foto', fotoRouter);\r\napp.use('/ulasan', ulasanRouter);\r\napp.use('/admin/pembayaran', pembayaranRouter);\r\n// catch 404 and forward to error handler\r\napp.use(function(req, res, next) {\r\n  next(createError(404));\r\n});\r\n\r\n// error handler\r\napp.use(function(err, req, res, next) {\r\n  // set locals, only providing error in development\r\n  res.locals.message = err.message;\r\n  res.locals.error = req.app.get('env') === 'development' ? err : {};\r\n\r\n  // render the error page\r\n  res.status(err.status || 500);\r\n  res.render('error', { title: 'Error' });\r\n});\r\n\r\nmodule.exports = app;\r\n"],"file":"app_final.dev.js"}