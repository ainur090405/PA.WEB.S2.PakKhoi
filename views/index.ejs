<%- include('partials/_header', { title: title }) %>
<%- include('partials/_messages') %>

<style>
  body {
    background: linear-gradient(180deg, #f1f3f4 0%, #f9f9f9 100%);
  }

 .hero-section {
  background-image: url('/images/activity/index.jpg');
  background-size: cover; /* boleh tetap pakai cover */
  background-position: center;
  background-repeat: no-repeat;
  image-rendering: crisp-edges;
  image-rendering: -webkit-optimize-contrast;
}


  .hero-overlay {
    background: rgba(20, 20, 20, 0.55);
    backdrop-filter: blur(2px);
    border-radius: 20px;
  }

  .section-title {
    font-weight: 700;
    color: #444;
  }

  .card {
    border: none;
    border-radius: 20px;
    transition: 0.3s;
  }

  .card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 25px rgba(0,0,0,0.1);
  }

  .album {
    background: #f2f2f2;
  }
</style>

<!-- HERO -->
<div class="hero-section p-5 mb-5 text-center shadow">
  <div class="container-fluid py-5 hero-overlay">
    <h1 class="display-4 fw-bold text-white">Booking Arena, Anti Ribet</h1>
    <p class="fs-4 text-light col-md-8 mx-auto">
      Temukan dan pesan arena olahraga terbaik secara instan.
    </p>
    <a class="btn btn-success btn-lg mt-3" href="/venues">
      <i class="bi bi-search me-2"></i> Cari Arena Sekarang
    </a>
  </div>
</div>

<!-- Cara Kerja -->
<div class="container px-4 py-5">
  <h2 class="pb-2 border-bottom text-center section-title">Cara Kerjanya Sederhana</h2>
  <div class="row g-4 py-5 row-cols-1 row-cols-lg-3">
    <div class="col d-flex align-items-start">
      <div class="icon-square me-3 fs-2 text-primary">
        <i class="bi bi-search-heart"></i>
      </div>
      <div>
        <h4>1. Cari Arena</h4>
        <p>Lihat semua arena yang tersedia, filter berdasarkan lokasi dan jenis olahraga.</p>
      </div>
    </div>
    <div class="col d-flex align-items-start">
      <div class="icon-square me-3 fs-2 text-success">
        <i class="bi bi-calendar2-check"></i>
      </div>
      <div>
        <h4>2. Pilih Jadwal</h4>
        <p>Lihat jadwal kosong secara real-time dan pilih jam main Anda.</p>
      </div>
    </div>
    <div class="col d-flex align-items-start">
      <div class="icon-square me-3 fs-2 text-danger">
        <i class="bi bi-dribbble"></i>
      </div>
      <div>
        <h4>3. Booking & Main</h4>
        <p>Login, lakukan booking, dan dapatkan konfirmasi. Anda siap bermain!</p>
      </div>
    </div>
  </div>
</div>

<!-- REKOMENDASI ARENA TERATAS -->
<div class="album py-5">
  <div class="container">
    <h2 class="text-center mb-4 section-title">Rekomendasi Arena Teratas</h2>

    <div class="row row-cols-1 row-cols-md-3 g-4">
      <% if (arenas.length > 0) { %>
        <% arenas.forEach(a => { %>
          <div class="col">
            <div class="card h-100 shadow-sm">
              <img 
                src="<%= a.foto_cover ? a.foto_cover : 'https://via.placeholder.com/400x250?text=No+Image' %>" 
                class="card-img-top" 
                style="height: 230px; object-fit: cover;"
              >

              <div class="card-body d-flex flex-column">
                <h5 class="card-title"><%= a.nama_arena %></h5>

                <p class="text-muted small mb-1">
                  <i class="bi bi-geo-alt-fill me-1"></i> <%= a.lokasi %>
                </p>

                <p class="fw-bold text-primary small mb-2">
                  ⭐ <%= a.avg_rating.toFixed(1) %> — 
                  <span class="text-muted"><%= a.total_ulasan %> ulasan</span>
                </p>

                <p class="text-success fw-bold small">
                  Rp <%= a.harga ? a.harga.toLocaleString('id-ID') : '-' %>
                </p>

                <a href="/venues/detail/<%= a.id_arena %>" class="btn btn-success mt-auto">
                  Lihat Jadwal
                </a>
              </div>
            </div>
          </div>
        <% }) %>
      <% } else { %>
        <p class="text-center text-muted">Belum ada arena aktif.</p>
      <% } %>
    </div>
  </div>
</div>

<!-- STATISTIK REAL -->
<section class="py-5 text-center" style="background:#e9ecef;">
  <div class="container">
    <h2 class="fw-bold mb-4 text-secondary">Kenapa Harus Pilih ArenaGo?</h2>

    <div class="row row-cols-1 row-cols-md-4 g-4">

      <div class="col">
        <div class="p-4 bg-white rounded-4 shadow-sm">
          <i class="bi bi-building text-primary fs-1 mb-2"></i>
          <h4><%= stats.totalArena %></h4>
          <p class="text-muted">Arena Tersedia</p>
        </div>
      </div>

      <div class="col">
        <div class="p-4 bg-white rounded-4 shadow-sm">
          <i class="bi bi-people-fill text-success fs-1 mb-2"></i>
          <h4><%= stats.totalUser %></h4>
          <p class="text-muted">Pengguna Terdaftar</p>
        </div>
      </div>

      <div class="col">
        <div class="p-4 bg-white rounded-4 shadow-sm">
          <i class="bi bi-calendar-check text-warning fs-1 mb-2"></i>
           <h4><%= stats.totalSelesai %></h4>
          <p class="text-muted">Booking Selesai</p>
        </div>
      </div>

      <div class="col">
        <div class="p-4 bg-white rounded-4 shadow-sm">
          <i class="bi bi-star-fill text-danger fs-1 mb-2"></i>
          <h4><%= stats.avgRating.toFixed(1) %>/5</h4>
          <p class="text-muted">Rating Pengguna</p>
        </div>
      </div>

    </div>
  </div>
</section>

<%- include('partials/_footer') %>
